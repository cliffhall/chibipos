{"version":3,"file":"_server-BW9B4_IO.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/sale/month/_server.js"],"sourcesContent":["import { j as json } from \"../../../../../chunks/index.js\";\nimport { Op } from \"sequelize\";\nimport { D as DailySales } from \"../../../../../chunks/daily_salesDetails.js\";\nasync function GET({ url }) {\n  const dateParam = url.searchParams.get(\"date\");\n  const date = new Date(dateParam);\n  const startDate = new Date(date.getFullYear(), date.getMonth(), 1);\n  const endDate = new Date(startDate.getFullYear(), startDate.getMonth() + 1, 0);\n  try {\n    const sales = await DailySales.findAll({\n      where: {\n        date: { [Op.between]: [startDate, endDate] }\n      },\n      order: [[\"date\", \"DESC\"]]\n    });\n    return json({ message: \"sales by month\", sales });\n  } catch (error) {\n    console.error(\"error getting sales by month: \", error);\n    return json({ status: 500 });\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;;;AAGA,eAAe,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE;AAC5B,EAAE,MAAM,SAAS,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC;AAChD,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC;AAClC,EAAE,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;AACpE,EAAE,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;AAChF,EAAE,IAAI;AACN,IAAI,MAAM,KAAK,GAAG,MAAM,UAAU,CAAC,OAAO,CAAC;AAC3C,MAAM,KAAK,EAAE;AACb,QAAQ,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC;AAClD,OAAO;AACP,MAAM,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC;AAC9B,KAAK,CAAC;AACN,IAAI,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC;AACrD,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,gCAAgC,EAAE,KAAK,CAAC;AAC1D,IAAI,OAAO,IAAI,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAChC;AACA;;;;"}