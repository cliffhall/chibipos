import{d as D,t as b,a as m,e as P}from"../chunks/cdZpXTRU.js";import{b as q,ac as I,c as $,aE as x,C as T,h as j,d as A,a3 as v,j as f,y as L,X as C,a0 as u,$ as g,_ as w,a1 as d,a2 as k,Z as O,P as Z,Y as E,ar as N}from"../chunks/CpheGI1x.js";import{p as B,i as F}from"../chunks/lS090TL_.js";import{i as Y}from"../chunks/BUGfvDXI.js";import{p as h,r as z,A as U,a as J,t as X,f as G}from"../chunks/DmQUckAG.js";import"../chunks/Cw3-Dsd9.js";import{b as K}from"../chunks/CTyi8ruM.js";import{c as Q}from"../chunks/Ej25J0qn.js";function W(r,n,...l){var a=r,s=x,e;q(()=>{s!==(s=n())&&(e&&(T(e),e=null),e=$(()=>s(a,...l)))},I),j&&(a=A)}function tt(r){var n=L(0);return function(){return arguments.length===1?(v(n,f(n)+1),arguments[0]):(f(n),r())}}var _=tt(()=>h),et=b('<nav class="svelte-7pmp0g"><ul class="links svelte-7pmp0g"><a href="/" class="svelte-7pmp0g">Venta</a> <a href="/tickets" class="svelte-7pmp0g">Tickets</a> <a href="/reportes" class="svelte-7pmp0g">Reportes</a></ul> <ul class="buttons svelte-7pmp0g"><button class="svelte-7pmp0g">actualizar reportes</button> <button class="svelte-7pmp0g">IP impresora</button></ul></nav>');function at(r,n){C(n,!1);async function l(){console.log("updating DailySales");let o=!1;const t=new Date;let i,y=0;for(;o===!1;){if(t.setDate(t.getDate()-1),i=t.toISOString().split("T")[0],y++,(await(await fetch(`/api/sale?date=${i}`)).json()).sale){o=!0;break}const H=t.toLocaleDateString("en-US",{day:"2-digit"}),V=t.toLocaleDateString("en-US",{month:"2-digit"}),M=t.getFullYear();if((await(await fetch(`/api/ticket?date=${M}-${V}-${H}`)).json()).length>0){const R=await(await fetch(`/api/update-sales?date=${t}`)).json();console.log("updateResult: ",R),o=!0;break}if(y==365){console.log("no sales for the past year");break}}}function a(){_(_().visible=!_().visible)}Y();var s=et(),e=g(u(s),2),c=u(e);c.__click=l;var p=g(c,2);p.__click=a,d(e),d(s),m(r,s),w()}D(["click"]);const st="data:image/svg+xml,%3csvg%20width='75'%20height='82'%20viewBox='0%200%2075%2082'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M74.0858%2016.5391L58.4608%200.91406C57.8749%200.32812%2057.078%200%2056.2499%200H7.7969C3.5%200%200%203.5%200%207.7969V73.4529C0%2077.7498%203.5%2081.2498%207.7969%2081.2498H67.2029C71.4998%2081.2498%2074.9998%2077.7498%2074.9998%2073.4529V18.7499C74.9998%2017.9218%2074.6717%2017.125%2074.0858%2016.5391ZM48.4378%206.25006V18.6561H23.4378V6.25006H48.4378ZM20.3128%2075.0001V46.8361C20.3128%2045.9454%2021.0394%2045.2189%2021.93%2045.2189H53.071C53.9616%2045.2189%2054.6882%2045.9454%2054.6882%2046.8361V75.0001H20.3128ZM68.7508%2073.4532C68.7508%2074.3047%2068.0555%2075.0001%2067.2039%2075.0001H60.9383V46.8361C60.9383%2042.5002%2057.4071%2038.9689%2053.0711%2038.9689H21.9301C17.5942%2038.9689%2014.0629%2042.5001%2014.0629%2046.8361V75.0001H7.7973C6.94574%2075.0001%206.2504%2074.3048%206.2504%2073.4532V7.79716C6.2504%206.9456%206.94571%206.25026%207.7973%206.25026H17.1879V18.7503C17.1879%2022.1487%2019.9535%2024.9065%2023.3441%2024.9065H48.5321C51.9305%2024.9065%2054.6883%2022.1409%2054.6883%2018.7503V6.25026H54.9539L68.7509%2020.0473L68.7508%2073.4532Z'%20fill='%23191D22'/%3e%3c/svg%3e";var nt=b('<div class="printerConfig svelte-s0b3qf"><div class="panel svelte-s0b3qf"><p class="title">IP impresora</p> <div class="buttonRow svelte-s0b3qf"><input type="text" class="svelte-s0b3qf"> <!></div></div></div>');function ot(r,n){C(n,!0);let l=k(void 0),a=k(!1);function s(){if(f(a))h.ip=f(l),v(a,!1);else{v(a,!0);return}}var e=nt(),c=u(e),p=g(u(c),2),o=u(p);z(o);var t=g(o,2);U(t,{imgSrc:st,imgAlt:"guardar",readyImg:Q,readyAlt:"confirmar",action:s,get ready(){return f(a)},set ready(i){v(a,B(i))}}),d(p),d(c),d(e),O(()=>J(o,"placeholder",h.ip)),K(o,()=>f(l),i=>v(l,i)),X(3,e,()=>G,()=>({y:30,duration:500})),m(r,e),w()}var it=b('<link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""> <link href="https://fonts.googleapis.com/css2?family=Bakbak+One&amp;family=Roboto+Mono:ital,wght@0,100..700;1,100..700&amp;family=Roboto:ital,wght@0,100..900;1,100..900&amp;display=swap" rel="stylesheet">',1),rt=b('<main class="svelte-1udgiz"><!></main> <!> <!>',1);function _t(r,n){C(n,!0);function l(){console.log("animateMenuChange")}Z(()=>{window.api.onMenuOpened(async t=>{const i=btoa(t);(await(await fetch("/api/updateMenu",{method:"POST",body:JSON.stringify({encryptedMenu:i}),headers:{"Content-Type":"application/json"}})).json()).status==200&&(console.log("result 200"),l())})});var a=rt();P(t=>{var i=it();N(4),m(t,i)});var s=E(a),e=u(s);W(e,()=>n.children),d(s);var c=g(s,2);{var p=t=>{ot(t,{})};F(c,t=>{h.visible&&t(p)})}var o=g(c,2);at(o,{}),m(r,a),w()}export{_t as component};
